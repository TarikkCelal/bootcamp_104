<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Diabalysis - Beslenme Ve Diyet Ã–nerisi</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/beslenmeOnerileri.css') }}"> <!-- Beslenme Ã–nerileri CSS dosyasÄ± -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>
<!-- Navbar (Ãœst menÃ¼) -->
<nav class="navbar navbar-expand-lg shadow-sm">
  <div class="container">
    <!-- Logo Yer Tutucu -->
    <a class="navbar-brand d-flex align-items-center" href="/">
      <div class="logo me-2"></div> <!-- Buraya logo yerleÅŸtirilecek -->
      <span class="fw-bold text-dark">diabalysis</span>
    </a>

    <div class="collapse navbar-collapse justify-content-end">
      <ul class="navbar-nav me-3">
        <li class="nav-item"><a class="nav-link {% if request.path == '/' %}active{% endif %}" href="/">Ana Sayfa</a></li>
        <li class="nav-item"><a class="nav-link {% if request.path == '/hakkimizda' %}active{% endif %}" href="/hakkimizda">HakkÄ±nda</a></li>

        {% if 'email' in session %}
          <li class="nav-item d-flex align-items-center">
            <a class="nav-link" href="/profil">
              <img src="{{ url_for('static', filename=session.get('profil_foto', 'img/user.png')) }}" alt="Profil" class="navbar-avatar">
            </a>
          </li>
        {% else %}
          <!-- GiriÅŸ yapÄ±lmamÄ±ÅŸsa: giriÅŸ yap butonu gÃ¶ster -->
          <li class="nav-item d-flex align-items-center">
            <a class="btn btn-orange ms-2" href="/bize-katil">GiriÅŸ Yap</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>

    <!-- Diyabet Risk Analizi BaÅŸlÄ±ÄŸÄ± ve AÃ§Ä±klamasÄ± -->
    <section class="py-5 ">
      <div class="container">
        <h4 class="display-4 fw-bold">Beslenme Ve Diyet</h4>
      </div>
    </section>

<!-- Ä°Ã§erik -->
<section class="py-5">
  <div class="container">
    <div class="row g-4 align-items-stretch">

           <!-- Sol: BaÅŸlÄ±k + Doktor GÃ¶rseli -->
      <div class="col-md-4 d-flex flex-column justify-content-between">
        <div>
          <h5 class="fw-bold">SaÄŸlÄ±klÄ± bir yaÅŸam iÃ§in doÄŸru adÄ±mlarÄ± atmaya hazÄ±r mÄ±sÄ±nÄ±z?</h5>
          <p>Yapay zeka destekli sistemimiz, verdiÄŸiniz saÄŸlÄ±k verilerini analiz ederek size Ã¶zel beslenme ve diyet Ã¶nerileri sunuyor.</p>
          <p>Bu sayfada, diyabet riskinizi azaltmak, kan ÅŸekerinizi dengede tutmak ve genel yaÅŸam kalitenizi artÄ±rmak iÃ§in ihtiyacÄ±nÄ±z olan tÃ¼m bilgileri bulacaksÄ±nÄ±z.</p>
        </div>
        <img src="{{ url_for('static', filename='img/doktor.png') }}" class="img-fluid rounded shadow mt-3">
      </div>

      <!-- Orta: AI GÃ¶rseli + Liste -->
      <div class="col-md-4 d-flex flex-column justify-content-between">
        <div>
          <img src="{{ url_for('static', filename='img/anasayfaResmi.png') }}" class="img-fluid mb-3" alt="AI">
          <h5 class="fw-bold">Yapay Zeka Destekli Beslenme Ã–nerisi NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h5>
          <p>Sistemimiz ÅŸu bilgileri analiz eder:</p>
          <ul>
            <li>YaÅŸ</li>
            <li>Cinsiyet</li>
            <li>VÃ¼cut kitle indeksi (BMI)</li>
            <li>Glikoz seviyesi</li>
            <li>Kan basÄ±ncÄ±</li>
            <li>Diyabet geÃ§miÅŸi</li>
            <li>GÃ¼nlÃ¼k fiziksel aktivite durumu</li>
          </ul>
          <p>Ve bu bilgilere gÃ¶re kiÅŸiselleÅŸtirilmiÅŸ bir beslenme planÄ± oluÅŸturur.<br>Herkese aynÄ± Ã¶neri deÄŸil, sana en uygun tavsiyeler!</p>
        </div>
      </div>

      <!-- SaÄŸ: Beslenme Ä°lkeleri -->
      <div class="col-md-4 beslenme-ilkeleri">
        <h5 class="fw-bold">Genel SaÄŸlÄ±klÄ± Beslenme Ä°lkeleri</h5>
        <ul class="ilkeler-listesi">
          <li>
            ğŸ¥¦ <strong>Bol Sebze ve Meyve TÃ¼ketin</strong><br>
            Her ana Ã¶ÄŸÃ¼nde tabaklarÄ±nÄ±zÄ±n yarÄ±sÄ±nÄ± sebzeler oluÅŸturmalÄ±.<br>
            <em>Not: Åeker oranÄ± dÃ¼ÅŸÃ¼k meyveler (Ã§ilek, bÃ¶ÄŸÃ¼rtlen, kivi) tercih edin.</em>
          </li>
          <li>
            ğŸŒ¾ <strong>Tam TahÄ±llarÄ± Tercih Edin</strong><br>
            Beyaz ekmek yerine tam buÄŸday, pirinÃ§ yerine bulgur tercih edin.
          </li>
          <li>
            ğŸ«’ <strong>SaÄŸlÄ±klÄ± YaÄŸlara YÃ¶nelin</strong><br>
            ZeytinyaÄŸÄ±, ceviz, badem gibi doÄŸal yaÄŸlar kullanÄ±n.
          </li>
          <li>
            ğŸ— <strong>Yeterli Protein AlÄ±n</strong><br>
            Derisiz tavuk, balÄ±k, yumurta, yoÄŸurt gibi kaynaklarÄ± tÃ¼ketin.<br>
            <em>Not: Haftada 2 kez balÄ±k yemeye Ã¶zen gÃ¶sterin.</em>
          </li>
          <li>
            ğŸš« <strong>Åekerli ve Ä°ÅŸlenmiÅŸ GÄ±dalardan KaÃ§Ä±nÄ±n</strong><br>
            Åekerli iÃ§ecekler, fast food ve hazÄ±r paketleri sÄ±nÄ±rlandÄ±rÄ±n.
          </li>
          <li>
            ğŸ’§ <strong>Su Ä°Ã§meyi Ä°hmal Etmeyin</strong><br>
            <em>Not: GÃ¼nde en az 6â€“8 bardak su iÃ§mek metabolizmayÄ± destekler.</em>
          </li>
        </ul>
      </div>

    </div>
  </div>
</section>

    <!-- Alt Kartlar -->
    <section class="py-5">
      <div class="container">
        <div class="row g-4 align-items-stretch">

          <!-- Yemek PlanÄ± -->
          <div class="col-md-5">
            <h5 class="fw-bold">BugÃ¼n iÃ§in sana Ã¶nerilen yemek planÄ±</h5>
            <table class="table table-bordered">
              <thead>
                <tr><th>Ã–ÄÃœNLER</th><th>MENÃœ Ã–NERÄ°SÄ°</th></tr>
              </thead>
              <tbody>
                <tr><td>KahvaltÄ±</td><td id="kahvalti">{{ plan.kahvalti if plan else "-" }}</td></tr>
                <tr><td>Ara Ã–ÄŸÃ¼n</td><td id="ara1">{{ plan.ara1 if plan else "-" }}</td></tr>
                <tr><td>Ã–ÄŸle YemeÄŸi</td><td id="ogle">{{ plan.ogle if plan else "-" }}</td></tr>
                <tr><td>Ara Ã–ÄŸÃ¼n</td><td id="ara2">{{ plan.ara2 if plan else "-" }}</td></tr>
                <tr><td>AkÅŸam YemeÄŸi</td><td id="aksam">{{ plan.aksam if plan else "-" }}</td></tr>
                <tr><td>Gece Ã–ÄŸÃ¼nÃ¼ (Ä°steÄŸe baÄŸlÄ±)</td><td id="gece">{{ plan.gece if plan else "-" }}</td></tr>
              </tbody>
            </table>
            <button id="onerBtn" class="btn btn-orange mt-2">GÃ¼nlÃ¼k Beslenme PlanÄ± Ã–ner</button>
          </div>

          <!-- SaÄŸlÄ±klÄ± YaÅŸam Ä°puÃ§larÄ± -->
          <div class="col-md-4">
            <h5 class="fw-bold">SaÄŸlÄ±klÄ± YaÅŸam Ä°puÃ§larÄ±</h5>
            <ul class="ipuclari-listesi">
              <li><strong>KÃ¼Ã§Ã¼k DeÄŸiÅŸikliklerle BaÅŸlayÄ±n:</strong><br>Her gÃ¼n bir Ã¶ÄŸÃ¼nde saÄŸlÄ±klÄ± seÃ§im yaparak baÅŸlayÄ±n.</li>
              <li><strong>Porsiyon KontrolÃ¼ YapÄ±n:</strong><br>GÃ¶z kararÄ± yerine tabak Ã¶lÃ§Ã¼sÃ¼ kullanarak yemeÄŸinizi dengeleyin.</li>
              <li><strong>YavaÅŸ ve BilinÃ§li Yiyin:</strong><br>Her lokmanÄ±n tadÄ±nÄ± Ã§Ä±karÄ±n, acele etmeyin.</li>
              <li><strong>Renkli TabaÄŸÄ±nÄ±z Olsun:</strong><br>Sebze ve meyvelerde ne kadar Ã§ok renk olursa, o kadar Ã§ok vitamin alÄ±rsÄ±nÄ±z.</li>
            </ul>
          </div>

          <!-- Motivasyon CÃ¼mlesi -->
          <div class="col-md-3 d-flex align-items-center justify-content-center">
            <h5 class="motivasyon-text text-center fw-bold">
              SaÄŸlÄ±klÄ± bir 
              <br>
              yaÅŸam, doÄŸru
              <br>
              beslenme
              <br>
              seÃ§imleriyle
              <br>
              baÅŸlar! 
              <br>
              Yapay zeka
              <br>
              destekli
              <br>
              Ã¶nerilerimizle
              <br>
              size en
              <br>
              uygun yolu
              <br>
              birlikte
              <br>
              buluyoruz.
              <br>
              BugÃ¼n
              <br>
              kendiniz iÃ§in
              <br>
              kÃ¼Ã§Ã¼k bir
              <br>
              adÄ±m atÄ±n,
              <br>
              yarÄ±n Ã§ok
              <br>
              daha gÃ¼Ã§lÃ¼
              <br>
              bir siz olun!
            </h5>
          </div>

        <!-- GÃ¼nlÃ¼k Beslenme Takibi -->
        <div class="takip-kutu mt-5 p-4">
          <h5 class="fw-bold">GÃ¼nlÃ¼k Beslenme Takibi</h5>
          <form id="notForm">
            <textarea id="notAlani" class="form-control mb-3" rows="4" placeholder="BugÃ¼n ne yedin? Yazabilirsin...">{{ not_icerik }}</textarea>
            <button type="submit" class="btn btn-orange">Kaydet</button>
          </form>
        </div>
    </section>


      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div id="flash-message" class="alert alert-{{ category }} text-center mt-3">
              {{ message }}
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <!-- BÃ¼lten AboneliÄŸi -->
      <section class="py-5 text-center">
        <div class="container">
          <h3 class="mb-3 fw-bold">Haber bÃ¼ltenimize katÄ±l</h3>
          <form action="{{ url_for('abone') }}" method="POST" class="d-flex justify-content-center gap-2">
            <input type="email" name="email" class="form-control w-50" placeholder="E-mail" required>
            <button class="btn btn-orange">Bize abone ol</button>
          </form>
        </div>
      </section>
    
      <!-- Alt Bilgi (Footer) -->
      <footer class="bg-gradient-green text-white py-4">
        <div class="container d-flex flex-column flex-lg-row justify-content-between">
          <div>
            <!-- Alt Logo Yer Tutucu -->
               <!-- Logo ve yazÄ± yan yana -->
            <div class="d-flex align-items-center mb-2">
                <div class="footer-logo me-2"></div> <!-- Logo -->
                <span class="footer-brand-text">diabalysis</span> <!-- YanÄ±ndaki yazÄ± -->
            </div>
            <p>SaÄŸlÄ±klÄ± Beden, Mutlu YaÅŸam Erken Tespit SaÄŸlÄ±klÄ± Gelecek</p>
          </div>
    
          <div>
            <h6>Ä°letiÅŸim</h6>
            <p><i class="fas fa-phone-alt me-2"></i>+90 546 525 8272</p>
            <p><i class="fas fa-envelope me-2"></i>diabalysis@gmail.com</p>
            <p><i class="fas fa-map-marker-alt me-2"></i>AtatÃ¼rk Caddesi No:123, Daire:5 BeÅŸiktaÅŸ, Ä°stanbul</p>
          </div>
          <div>
            <h6>Harita</h6>
            <div class="map"></div> <!-- Harita gÃ¶rseli buraya -->
          </div>
        </div>
        
        <!-- Ä°letiÅŸim ile sosyal medya ikonlarÄ± arasÄ±ndaki Ã§izgi -->
        <hr class="footer-divider">
    
    
        <!-- Sosyal medya ikonlarÄ± PNG (ortalanmÄ±ÅŸ) -->
        <div class="text-center mt-4">
            <img src="{{ url_for('static', filename='img/sosyalmedyaicons.png') }}" alt="Sosyal Medya Ä°konlarÄ±" class="social-icons-img">
        </div>
        <!-- Telif hakkÄ± -->
        <div class="text-center mt-3 small">Â© 2023 diabalysis - TÃ¼m HaklarÄ± SaklÄ±dÄ±r</div>
      </footer>
    
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

      <script>
        // Flash mesajÄ± 3 saniye sonra otomatik gizle
        setTimeout(function() {
          const msg = document.getElementById('flash-message');
          if (msg) {
            msg.style.transition = "opacity 0.5s ease";
            msg.style.opacity = 0;
            setTimeout(() => msg.remove(), 500);
          }
        }, 3000);
      </script>

      <script>
        document.getElementById("onerBtn").addEventListener("click", async function () {
          try {
            const response = await fetch("/beslenme-oneri-generate", {
              method: "POST"
            });

            const data = await response.json();

            // Gelen JSON veriyi tabloya yazdÄ±r
            document.getElementById("kahvalti").innerText = data.kahvalti;
            document.getElementById("ara1").innerText = data.ara1;
            document.getElementById("ogle").innerText = data.ogle;
            document.getElementById("ara2").innerText = data.ara2;
            document.getElementById("aksam").innerText = data.aksam;
            document.getElementById("gece").innerText = data.gece;

          } catch (error) {
            console.error("Hata:", error);
            alert("Ã–neri alÄ±nÄ±rken bir sorun oluÅŸtu.");
          }
        });
      </script>

    <script>
      document.getElementById("notForm").addEventListener("submit", async function(e) {
        e.preventDefault();
        const notText = document.getElementById("notAlani").value;

      const response = await fetch("/beslenme-notu-kaydet", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ not: notText })
      });

      const result = await response.json();
      alert(result.message);
      });
    </script>


</body>
</html>
  